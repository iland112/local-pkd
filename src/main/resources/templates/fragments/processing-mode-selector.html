<!DOCTYPE html>
<html
  xmlns:th="http://www.thymeleaf.org"
  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
>
  <!-- Processing Mode Selector Fragment
       파일 처리 방식을 선택할 수 있는 라디오 버튼 그룹

       사용 예시:
       <th:block th:replace="~{fragments/processing-mode-selector :: mode-selector(selected='AUTO')}">
  -->

  <th:block th:fragment="mode-selector(selected)">
    <div class="form-control w-full">
      <label class="label">
        <span class="label-text font-semibold">
          <i class="fas fa-cog text-primary mr-1"></i>
          파일 처리 방식
        </span>
      </label>

      <!-- AUTO Mode Option -->
      <div class="form-control">
        <label class="label cursor-pointer justify-start gap-3">
          <input
            type="radio"
            name="processingMode"
            value="AUTO"
            class="radio radio-primary"
            th:checked="${(selected ?: 'AUTO') == 'AUTO'}"
            x-model="processingMode"
          />
          <span class="label-text flex-1">
            <span class="font-semibold text-base text-primary">
              🤖 자동 처리 (AUTO)
            </span>
            <span class="block text-xs text-base-content opacity-70 mt-1">
              업로드 후 자동으로 파싱, 검증, LDAP 등록까지 처리됩니다.
              <br/>
              프로덕션 환경에 권장됩니다.
            </span>
          </span>
        </label>
      </div>

      <!-- MANUAL Mode Option -->
      <div class="form-control mt-3">
        <label class="label cursor-pointer justify-start gap-3">
          <input
            type="radio"
            name="processingMode"
            value="MANUAL"
            class="radio radio-secondary"
            th:checked="${(selected ?: 'AUTO') == 'MANUAL'}"
            x-model="processingMode"
          />
          <span class="label-text flex-1">
            <span class="font-semibold text-base text-secondary">
              🎮 수동 처리 (MANUAL)
            </span>
            <span class="block text-xs text-base-content opacity-70 mt-1">
              각 단계를 사용자가 수동으로 진행할 수 있습니다.
              <br/>
              개발/테스트 환경이나 품질 검수에 권장됩니다.
            </span>
          </span>
        </label>
      </div>

      <!-- Info Box -->
      <div class="alert alert-info mt-4">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="stroke-current shrink-0 w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
        <div>
          <h3 class="font-bold">처리 방식 선택</h3>
          <div class="text-xs">
            <p>
              <strong>AUTO:</strong> 파일 업로드 → 파싱 → 검증 → LDAP 등록까지 자동으로 처리됩니다.
            </p>
            <p class="mt-2">
              <strong>MANUAL:</strong> 각 단계마다 사용자가 '시작' 버튼을 클릭해야 진행됩니다. 중간 결과를 검토하고 싶을 때 사용하세요.
            </p>
          </div>
        </div>
      </div>
    </div>
  </th:block>
</html>
