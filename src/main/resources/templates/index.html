<!DOCTYPE html>
<html
  lang="en"
  xmlns:th="http://www.thymeleaf.org"
  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
  layout:decorate="~{layout/main}"
>
  <body>
    <div layout:fragment="content">
      <div class="container mx-auto px-4 py-6 max-w-7xl">
        <!-- 헤더 섹션 -->
        <div class="mb-8">
          <div
            class="bg-gradient-to-r from-blue-600 to-indigo-700 rounded-lg shadow-lg p-6 text-white"
          >
            <div class="flex items-center justify-between">
              <div>
                <h1 class="text-3xl font-bold mb-2">
                  ICAO Master List & LDIF File Manager
                </h1>
                <p class="text-blue-100 text-lg">
                  안전하고 효율적인 LDIF 데이터 관리 시스템
                </p>
              </div>
              <div class="text-right">
                <div class="text-blue-100 text-sm">
                  <i class="fas fa-calendar-alt mr-2"></i>
                  <span id="currentDate"></span>
                </div>
                <div class="text-blue-100 text-sm mt-1">
                  <i class="fas fa-clock mr-2"></i>
                  <span id="currentTime"></span>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- 시스템 상태 및 빠른 액션 -->
        <div class="grid grid-cols-1 lg:grid-cols-4 gap-6 mb-8">
          <!-- LDAP 연결 상태 -->
          <div
            class="bg-white rounded-lg shadow-md p-6 border-l-4 border-green-500"
          >
            <div class="flex items-center justify-between">
              <div>
                <h3
                  class="text-sm font-medium text-gray-500 uppercase tracking-wide"
                >
                  LDAP 상태
                </h3>
                <div id="ldapStatus" class="mt-2">
                  <span class="text-2xl font-bold text-gray-900"
                    >확인 중...</span
                  >
                  <p class="text-sm text-gray-600 mt-1">연결 테스트 중</p>
                </div>
              </div>
              <div class="flex-shrink-0">
                <i class="fas fa-database text-3xl text-green-500"></i>
              </div>
            </div>
            <div class="mt-4">
              <button
                id="quickLdapTest"
                class="w-full bg-green-50 text-green-700 border border-green-200 hover:bg-green-100 px-4 py-2 rounded-md text-sm font-medium transition-colors"
              >
                <i class="fas fa-plug mr-2"></i>연결 테스트
              </button>
            </div>
          </div>

          <!-- 처리 통계 -->
          <div
            class="bg-white rounded-lg shadow-md p-6 border-l-4 border-blue-500"
          >
            <div class="flex items-center justify-between">
              <div>
                <h3
                  class="text-sm font-medium text-gray-500 uppercase tracking-wide"
                >
                  처리 통계
                </h3>
                <div class="mt-2">
                  <span class="text-2xl font-bold text-gray-900">0</span>
                  <p class="text-sm text-gray-600 mt-1">총 처리된 파일</p>
                </div>
              </div>
              <div class="flex-shrink-0">
                <i class="fas fa-chart-bar text-3xl text-blue-500"></i>
              </div>
            </div>
            <div class="mt-4">
              <button
                onclick="showStatistics()"
                class="w-full bg-blue-50 text-blue-700 border border-blue-200 hover:bg-blue-100 px-4 py-2 rounded-md text-sm font-medium transition-colors"
              >
                <i class="fas fa-chart-line mr-2"></i>통계 보기
              </button>
            </div>
          </div>

          <!-- 시스템 정보 -->
          <div
            class="bg-white rounded-lg shadow-md p-6 border-l-4 border-purple-500"
          >
            <div class="flex items-center justify-between">
              <div>
                <h3
                  class="text-sm font-medium text-gray-500 uppercase tracking-wide"
                >
                  시스템 상태
                </h3>
                <div class="mt-2">
                  <span class="text-2xl font-bold text-green-600">정상</span>
                  <p class="text-sm text-gray-600 mt-1">모든 서비스 가동</p>
                </div>
              </div>
              <div class="flex-shrink-0">
                <i class="fas fa-server text-3xl text-purple-500"></i>
              </div>
            </div>
          </div>

          <!-- 빠른 도움말 -->
          <div
            class="bg-white rounded-lg shadow-md p-6 border-l-4 border-orange-500"
          >
            <div class="flex items-center justify-between">
              <div>
                <h3
                  class="text-sm font-medium text-gray-500 uppercase tracking-wide"
                >
                  도움말
                </h3>
                <div class="mt-2">
                  <span class="text-2xl font-bold text-gray-900">
                    <i class="fas fa-question-circle text-orange-500"></i>
                  </span>
                  <p class="text-sm text-gray-600 mt-1">사용 가이드</p>
                </div>
              </div>
            </div>
            <div class="mt-4">
              <button
                onclick="showHelp()"
                class="w-full bg-orange-50 text-orange-700 border border-orange-200 hover:bg-orange-100 px-4 py-2 rounded-md text-sm font-medium transition-colors"
              >
                <i class="fas fa-book mr-2"></i>도움말 보기
              </button>
            </div>
          </div>
        </div>

        <!-- 메인 기능 메뉴 -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
          <!-- ICAO Master List 관리 -->
          <div
            class="bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300"
          >
            <div class="bg-gradient-to-r from-blue-500 to-blue-600 px-6 py-4">
              <div class="flex items-center">
                <i class="fas fa-file-upload text-2xl text-blue-100 mr-4"></i>
                <div>
                  <h2 class="text-xl font-bold text-white">
                    ICAO Master List 관리
                  </h2>
                  <p class="text-blue-100 text-sm">
                    CSCA Master List 파일 업로드 및 분석
                  </p>
                </div>
              </div>
            </div>
            <div class="p-6">
              <div class="space-y-4">
                <div class="flex items-start gap-3">
                  <i class="fas fa-check-circle text-green-500 mt-1"></i>
                  <div>
                    <p class="font-medium text-gray-900">
                      Master List 파일 내용 분석 및 검증
                    </p>
                    <p class="text-sm text-gray-600">
                      CMS 형식의 SignedData 구조 검증
                    </p>
                  </div>
                </div>
                <div class="flex items-start gap-3">
                  <i class="fas fa-shield-alt text-green-500 mt-1"></i>
                  <div>
                    <p class="font-medium text-gray-900">디지털 서명 검증</p>
                    <p class="text-sm text-gray-600">
                      X.509 인증서 유효성 검사
                    </p>
                    <p class="text-sm text-gray-600">신뢰체인 검증</p>
                  </div>
                </div>
                <div class="flex items-start gap-3">
                  <i class="fas fa-database text-green-500 mt-1"></i>
                  <div>
                    <p class="font-medium text-gray-900">
                      OpenLDAP 서버 직접 저장
                    </p>
                    <p class="text-sm text-gray-600">실시간 진행률 표시</p>
                  </div>
                </div>
              </div>
              <div class="mt-6 pt-4 border-t border-gray-200">
                <a
                  href="/icao/ml"
                  class="w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-4 rounded-md flex items-center justify-center gap-2 transition-colors"
                >
                  <i class="fas fa-arrow-right"></i>
                  Master List 관리하기
                </a>
              </div>
            </div>
          </div>

          <!-- LDIF 파일 관리 -->
          <div
            class="bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300"
          >
            <div class="bg-gradient-to-r from-green-500 to-green-600 px-6 py-4">
              <div class="flex items-center">
                <i class="fa fa-file-code text-2xl text-green-100 mr-4"></i>
                <div>
                  <h2 class="text-xl font-bold text-white">LDIF 파일 관리</h2>
                  <p class="text-green-100 text-sm">
                    LDAP 데이터 교환 형식 파일 처리
                  </p>
                </div>
              </div>
            </div>
            <div class="p-6">
              <div class="space-y-4">
                <div class="flex items-start gap-3">
                  <i class="fas fa-search text-green-500 mt-1"></i>
                  <div>
                    <p class="font-medium text-gray-900">
                      LDIF 파일 구문 분석 및 검증
                    </p>
                    <p class="text-sm text-gray-600">RFC 2849 표준 준수 검사</p>
                  </div>
                </div>
                <div class="flex items-start gap-3">
                  <i class="fas fa-chart-bar text-green-500 mt-1"></i>
                  <div>
                    <p class="font-medium text-gray-900">
                      엔트리 통계 및 ObjectClass 분석
                    </p>
                    <p class="text-sm text-gray-600">실시간 처리 진행률 표시</p>
                  </div>
                </div>
                <div class="flex items-start gap-3">
                  <i
                    class="fas fa-exclamation-triangle text-green-500 mt-1"
                  ></i>
                  <div>
                    <p class="font-medium text-gray-900">
                      실시간 오류 검출 및 보고
                    </p>
                    <p class="text-sm text-gray-600">X.509 인증서 검증 포함</p>
                  </div>
                </div>
              </div>
              <div class="mt-6 pt-4 border-t border-gray-200">
                <a
                  href="/ldif"
                  class="w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-4 rounded-md flex items-center justify-center gap-2 transition-colors"
                >
                  <i class="fas fa-arrow-right"></i>
                  LDIF 파일 관리하기
                </a>
              </div>
            </div>
          </div>
        </div>

        <!-- 최근 활동 및 로그 -->
        <div class="grid grid-cols-1 xl:grid-cols-3 gap-8">
          <!-- 최근 활동 -->
          <div class="xl:col-span-2">
            <div class="bg-white rounded-lg shadow-lg p-6">
              <div class="flex items-center justify-between mb-6">
                <h3
                  class="text-lg font-semibold text-gray-900 flex items-center"
                >
                  <i class="fas fa-history text-blue-500 mr-3"></i>
                  최근 활동
                </h3>
                <button
                  onclick="refreshRecentActivity()"
                  class="text-gray-400 hover:text-gray-600 transition-colors"
                >
                  <i class="fas fa-refresh"></i>
                </button>
              </div>
              <div id="recentActivity" class="space-y-4">
                <div class="text-center py-8 text-gray-500">
                  <i class="fas fa-clock text-4xl mb-4"></i>
                  <p>최근 활동이 없습니다.</p>
                  <p class="text-sm">파일을 업로드하여 시작하세요.</p>
                </div>
              </div>
            </div>
          </div>

          <!-- 시스템 정보 -->
          <div class="space-y-6">
            <!-- 빠른 통계 -->
            <div class="bg-white rounded-lg shadow-lg p-6">
              <h3
                class="text-lg font-semibold text-gray-900 mb-4 flex items-center"
              >
                <i class="fas fa-tachometer-alt text-purple-500 mr-3"></i>
                빠른 통계
              </h3>
              <div class="space-y-3">
                <div class="flex justify-between items-center">
                  <span class="text-gray-600">처리된 Master List</span>
                  <span class="font-semibold">0</span>
                </div>
                <div class="flex justify-between items-center">
                  <span class="text-gray-600">처리된 LDIF 파일</span>
                  <span class="font-semibold">0</span>
                </div>
                <div class="flex justify-between items-center">
                  <span class="text-gray-600">총 인증서 수</span>
                  <span class="font-semibold">0</span>
                </div>
                <div class="flex justify-between items-center">
                  <span class="text-gray-600">유효한 인증서</span>
                  <span class="font-semibold text-green-600">0</span>
                </div>
              </div>
            </div>

            <!-- 시스템 알림 -->
            <div class="bg-white rounded-lg shadow-lg p-6">
              <h3
                class="text-lg font-semibold text-gray-900 mb-4 flex items-center"
              >
                <i class="fas fa-bell text-yellow-500 mr-3"></i>
                시스템 알림
              </h3>
              <div class="space-y-3">
                <div
                  class="bg-green-50 border-l-4 border-green-400 p-3 rounded"
                >
                  <div class="flex items-center">
                    <i class="fas fa-check-circle text-green-400 mr-2"></i>
                    <p class="text-sm text-green-700">
                      모든 시스템이 정상 작동 중입니다.
                    </p>
                  </div>
                </div>
              </div>
            </div>

            <!-- 바로가기 -->
            <div class="bg-white rounded-lg shadow-lg p-6">
              <h3
                class="text-lg font-semibold text-gray-900 mb-4 flex items-center"
              >
                <i class="fas fa-bolt text-indigo-500 mr-3"></i>
                바로가기
              </h3>
              <div class="space-y-2">
                <a
                  href="/icao/ml"
                  class="flex items-center p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded transition-colors"
                >
                  <i class="fas fa-file-upload mr-3"></i>
                  Master List 업로드
                </a>
                <a
                  href="/ldif"
                  class="flex items-center p-2 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded transition-colors"
                >
                  <i class="fas fa-file-code mr-3"></i>
                  LDIF 파일 업로드
                </a>
                <button
                  onclick="showStatistics()"
                  class="w-full flex items-center p-2 text-gray-600 hover:text-purple-600 hover:bg-purple-50 rounded transition-colors"
                >
                  <i class="fas fa-chart-pie mr-3"></i>
                  상세 통계 보기
                </button>
                <button
                  onclick="exportData()"
                  class="w-full flex items-center p-2 text-gray-600 hover:text-orange-600 hover:bg-orange-50 rounded transition-colors"
                >
                  <i class="fas fa-download mr-3"></i>
                  데이터 내보내기
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- 도움말 모달 -->
        <div
          id="helpModal"
          class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50"
        >
          <div
            class="bg-white rounded-lg max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto"
          >
            <div class="p-6">
              <div class="flex justify-between items-center mb-4">
                <h3 class="text-xl font-bold">시스템 사용 가이드</h3>
                <button
                  onclick="closeHelp()"
                  class="text-gray-400 hover:text-gray-600"
                >
                  <i class="fas fa-times text-xl"></i>
                </button>
              </div>
              <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                  <h4 class="font-semibold text-blue-600 mb-3">
                    ICAO Master List
                  </h4>
                  <ul class="text-sm text-gray-600 space-y-2">
                    <li>• .ml 확장자 파일만 업로드 가능</li>
                    <li>• 최대 파일 크기: 100MB</li>
                    <li>• CMS SignedData 형식 지원</li>
                    <li>• 실시간 진행률 표시</li>
                  </ul>
                </div>
                <div>
                  <h4 class="font-semibold text-green-600 mb-3">LDIF 파일</h4>
                  <ul class="text-sm text-gray-600 space-y-2">
                    <li>• .ldif 확장자 파일만 업로드 가능</li>
                    <li>• 최대 파일 크기: 100MB</li>
                    <li>• RFC 2849 표준 준수</li>
                    <li>• 실시간 파싱 진행률 표시</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- 통계 모달 -->
        <div
          id="statisticsModal"
          class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50"
        >
          <div
            class="bg-white rounded-lg max-w-6xl w-full mx-4 max-h-[90vh] overflow-y-auto"
          >
            <div class="p-6">
              <div class="flex justify-between items-center mb-4">
                <h3 class="text-xl font-bold">시스템 통계</h3>
                <button
                  onclick="closeStatistics()"
                  class="text-gray-400 hover:text-gray-600"
                >
                  <i class="fas fa-times text-xl"></i>
                </button>
              </div>
              <div id="statisticsContent">
                <div class="text-center py-8">
                  <i class="fas fa-chart-bar text-4xl text-gray-400 mb-4"></i>
                  <p class="text-gray-500">통계 데이터를 로드하는 중...</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <th:block layout:fragment="script-content">
      <script>
        // 현재 날짜/시간 표시
        function updateDateTime() {
          const now = new Date();
          const date = now.toLocaleDateString("ko-KR", {
            year: "numeric",
            month: "long",
            day: "numeric",
            weekday: "short",
          });
          const time = now.toLocaleTimeString("ko-KR");

          document.getElementById("currentDate").textContent = date;
          document.getElementById("currentTime").textContent = time;
        }

        // LDAP 연결 상태 확인
        function checkLdapStatus() {
            fetch('/ldap-test-connection')
            .then(response => response.json())
            .then(data => {
              const statusDiv = document.getElementById('ldapStatus');
              if (data.success) {
                statusDiv.innerHTML = `
                  <span class="text-2xl font-bold text-green-600">연결됨</span>
                  <p class="text-sm text-green-600 mt-1">LDAP 서버 정상</p>
                `;
              } else {
                statusDiv.innerHTML = `
                  <span class="text-2xl font-bold text-red-600">연결 실패</span>
                  <p class="text-sm text-red-600 mt-1">서버 확인 필요</p>
                `;
              }
            })
            .catch(error => {
              console.error('LDAP status check failed:', error);
              const statusDiv = document.getElementById('ldapStatus');
              statusDiv.innerHTML = `
                <span class="text-2xl font-bold text-yellow-600">확인 불가</span>
                <p class="text-sm text-yellow-600 mt-1">네트워크 오류</p>
              `;
            });
        }

        // 빠른 LDAP 테스트
        document.getElementById('quickLdapTest').addEventListener('click', function() {
          const btn = this;
          const originalContent = btn.innerHTML;
          
          btn.disabled = true;
          btn.innerHTML = '<i class="fas fa-spinner animate-spin mr-2"></i>테스트 중...';
          
          fetch('/ldap-test-connection')
            .then(response => response.json())
            .then(data => {
              showNotification(data.message, data.success ? 'success' : 'error');
              checkLdapStatus();
            })
            .catch(error => {
              showNotification('연결 테스트에 실패했습니다.', 'error');
            })
            .finally(() => {
              btn.disabled = false;
              btn.innerHTML = originalContent;
            });
        });

        // 도움말 모달
        function showHelp() {
          document.getElementById("helpModal").classList.remove("hidden");
          document.getElementById("helpModal").classList.add("flex");
        }

        function closeHelp() {
          document.getElementById("helpModal").classList.add("hidden");
          document.getElementById("helpModal").classList.remove("flex");
        }

        // 통계 모달
        function showStatistics() {
          document.getElementById("statisticsModal").classList.remove("hidden");
          document.getElementById("statisticsModal").classList.add("flex");
          loadStatistics();
        }

        function closeStatistics() {
          document.getElementById("statisticsModal").classList.add("hidden");
          document.getElementById("statisticsModal").classList.remove("flex");
        }

        // 통계 데이터 로드
        function loadStatistics() {
          const content = document.getElementById("statisticsContent");
          content.innerHTML = `
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="bg-blue-50 p-6 rounded-lg">
                        <h4 class="font-semibold text-blue-800 mb-2">처리된 파일</h4>
                        <p class="text-3xl font-bold text-blue-600">0</p>
                        <p class="text-sm text-blue-600">총 업로드 파일 수</p>
                    </div>
                    <div class="bg-green-50 p-6 rounded-lg">
                        <h4 class="font-semibold text-green-800 mb-2">인증서 수</h4>
                        <p class="text-3xl font-bold text-green-600">0</p>
                        <p class="text-sm text-green-600">처리된 인증서 총합</p>
                    </div>
                    <div class="bg-purple-50 p-6 rounded-lg">
                        <h4 class="font-semibold text-purple-800 mb-2">성공률</h4>
                        <p class="text-3xl font-bold text-purple-600">0%</p>
                        <p class="text-sm text-purple-600">처리 성공률</p>
                    </div>
                </div>
                <div class="mt-6 text-center text-gray-500">
                    <p>더 많은 통계를 보려면 파일을 처리해주세요.</p>
                </div>
            `;
        }

        // 데이터 내보내기
        function exportData() {
          showNotification('데이터 내보내기 기능을 준비 중입니다.', 'info');
        }

        // 최근 활동 새로고침
        function refreshRecentActivity() {
          showNotification('최근 활동을 새로고침했습니다.', 'info');
        }

        // 알림 표시
        function showNotification(message, type = 'info') {
          const colors = {
            info: 'bg-blue-50 border-blue-200 text-blue-700',
            success: 'bg-green-50 border-green-200 text-green-700',
            warning: 'bg-yellow-50 border-yellow-200 text-yellow-700',
            error: 'bg-red-50 border-red-200 text-red-700'
          };

          const icons = {
            info: 'fas fa-info-circle',
            success: 'fas fa-check-circle',
            warning: 'fas fa-exclamation-triangle',
            error: 'fas fa-times-circle'
          };

          const notification = document.createElement('div');
          notification.className = `fixed top-4 right-4 p-4 rounded-lg border ${colors[type]} shadow-lg z-50 animate-slideIn max-w-md`;
          notification.innerHTML = `
            <div class="flex items-center">
              <i class="${icons[type]} mr-2"></i>
              <span class="flex-1">${message}</span>
              <button onclick="this.parentElement.parentElement.remove()" class="ml-2 hover:opacity-75">
                <i class="fas fa-times"></i>
              </button>
            </div>
          `;

          document.body.appendChild(notification);

          setTimeout(() => {
            if (notification.parentNode) {
              notification.remove();
            }
          }, 5000);
        }

        // 페이지 로드 시 초기화
        document.addEventListener("DOMContentLoaded", function () {
          updateDateTime();
          checkLdapStatus();

          // 1분마다 시간 업데이트
          setInterval(updateDateTime, 60000);

          // 5분마다 LDAP 상태 체크
          setInterval(checkLdapStatus, 300000);

          // 키보드 단축키
          document.addEventListener('keydown', function(e) {
            // ESC: 모달 닫기
            if (e.key === 'Escape') {
              closeHelp();
              closeStatistics();
            }
            // Ctrl+1: Master List
            if (e.ctrlKey && e.key === '1') {
              e.preventDefault();
              window.location.href = '/icao/ml';
            }
            // Ctrl+2: LDIF
            if (e.ctrlKey && e.key === '2') {
              e.preventDefault();
              window.location.href = '/ldif';
            }
          });
        });
      </script>

      <style>
        /* 애니메이션 정의 */
        @keyframes slideIn {
          from {
            opacity: 0;
            transform: translateX(100%);
          }
          to {
            opacity: 1;
            transform: translateX(0);
          }
        }

        .animate-slideIn {
          animation: slideIn 0.3s ease-out;
        }

        @keyframes spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }

        .animate-spin {
          animation: spin 1s linear infinite;
        }

        /* 카드 호버 효과 */
        .hover\:shadow-xl:hover {
          box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }

        /* 그라데이션 효과 */
        .bg-gradient-to-r {
          background-image: linear-gradient(to right, var(--tw-gradient-stops));
        }

        .bg-gradient-to-br {
          background-image: linear-gradient(to bottom right, var(--tw-gradient-stops));
        }

        /* 반응형 디자인 */
        @media (max-width: 768px) {
          .grid {
            grid-template-columns: 1fr;
          }
          
          .text-3xl {
            font-size: 1.5rem;
          }
          
          .container {
            padding: 1rem;
          }
        }

        /* 부드러운 전환 효과 */
        .transition-all {
          transition: all 0.3s ease;
        }

        .transition-colors {
          transition: color 0.2s ease, background-color 0.2s ease;
        }

        .transition-shadow {
          transition: box-shadow 0.3s ease;
        }

        /* 포커스 스타일 */
        button:focus,
        a:focus {
          outline: 2px solid #3b82f6;
          outline-offset: 2px;
        }

        /* 스크롤바 스타일링 */
        ::-webkit-scrollbar {
          width: 6px;
        }

        ::-webkit-scrollbar-track {
          background: #f1f1f1;
        }

        ::-webkit-scrollbar-thumb {
          background: #c1c1c1;
          border-radius: 3px;
        }

        ::-webkit-scrollbar-thumb:hover {
          background: #a1a1a1;
        }

        /* 모달 애니메이션 */
        .modal-enter {
          animation: modalEnter 0.3s ease-out;
        }

        @keyframes modalEnter {
          from {
            opacity: 0;
            transform: scale(0.9) translateY(-20px);
          }
          to {
            opacity: 1;
            transform: scale(1) translateY(0);
          }
        }
      </style>
    </th:block>
  </body>
</html>
