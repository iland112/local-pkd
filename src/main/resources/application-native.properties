# Native Image profile - optimized settings for GraalVM Native Image
# Run with: ./target/local-pkd --spring.profiles.active=native,local

# Hibernate BytecodeProvider: 'none' for Native Image (no runtime bytecode generation)
# This MUST be 'none' - ByteBuddy is not compatible with Native Image
spring.jpa.properties.hibernate.bytecode.provider=none

# Disable lazy-loading proxies (not supported in Native Image without ByteBuddy)
spring.jpa.properties.hibernate.enable_lazy_load_no_trans=false

# Disable Hibernate bytecode enhancement (incompatible with Native Image)
spring.jpa.properties.hibernate.enhancer.enableDirtyTracking=false
spring.jpa.properties.hibernate.enhancer.enableLazyInitialization=false
spring.jpa.properties.hibernate.enhancer.enableAssociationManagement=false
